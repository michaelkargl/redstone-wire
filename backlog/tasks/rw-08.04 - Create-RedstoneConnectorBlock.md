---
id: RW-08.04
title: Create RedstoneConnectorBlock
status: To Do
assignee: []
created_date: '2026-02-14 19:41'
updated_date: '2026-02-14 19:49'
labels:
  - feature
milestone: m-1
dependencies:
  - RW-08.01
references:
  - src/main/java/at/osa/redstonewire/RedstoneChainBlock.java
parent_task_id: RW-08
priority: high
---

## Description

<!-- SECTION:DESCRIPTION:BEGIN -->
Create the Connector block that serves purely as a passive cable routing node.

Extends AbstractRedstoneChainBlock:
- NO POWER property at all — single blockstate variant
- neighborChanged() — no-op (does NOT detect external signals)
- isSignalSource() returns false
- getSignal() returns 0
- getDirectSignal() returns 0
- hasAnalogOutputSignal() returns false
- getTicker() returns null (Connector blocks don't tick)

This is the simplest of the three new blocks. Its sole purpose is to allow cable connections between Input and Output blocks via the Connector item.
<!-- SECTION:DESCRIPTION:END -->

## Acceptance Criteria
<!-- AC:BEGIN -->
- [ ] #1 RedstoneConnectorBlock.java exists extending AbstractRedstoneChainBlock
- [ ] #2 Has NO POWER property — single blockstate variant
- [ ] #3 neighborChanged() is a no-op
- [ ] #4 isSignalSource() returns false, getSignal() returns 0, getDirectSignal() returns 0
- [ ] #5 hasAnalogOutputSignal() returns false
- [ ] #6 getTicker() returns null
- [ ] #7 Block does not emit or detect any redstone signal
<!-- AC:END -->

## Implementation Plan

<!-- SECTION:PLAN:BEGIN -->
## Implementation Plan

### 1. Create `RedstoneConnectorBlock.java`
Location: `src/main/java/at/osa/redstonewire/RedstoneConnectorBlock.java`

### 2. Class structure
```java
public class RedstoneConnectorBlock extends AbstractRedstoneChainBlock {

    public RedstoneConnectorBlock(Properties properties) {
        super(properties);
        // No registerDefaultState — no POWER property
    }

    // neighborChanged() → no-op
    // isSignalSource() → false
    // getSignal() → 0
    // getDirectSignal() → 0
    // hasAnalogOutputSignal() → false
    // No getTicker override (inherits null from base)
    // No createBlockStateDefinition override (no properties)
}
```

### 3. Key decisions
- Simplest of the three blocks — purely passive routing node
- No POWER property means single blockstate variant → single model
- No ticker → zero per-tick cost for Connector blocks
- The entity still exists (for cable connections) but doesn't participate in signal logic

### 4. Verify
- Compiles with `./gradlew build`
- Blockstate JSON should have `"": { "model": "..." }` single variant
<!-- SECTION:PLAN:END -->

## Implementation Notes

<!-- SECTION:NOTES:BEGIN -->
## Implementation Notes

### Why Connector still has an entity
Even though Connector blocks are "passive", they still need a `RedstoneChainEntity` because:
1. Cable connections are stored in the entity (`connections` list)
2. The renderer reads the entity's connections to draw cables
3. Network traversal (`getConnectedChains()`) visits entities at each position
4. The `onRemove()` cleanup needs the entity to clean up bidirectional connections

The entity exists, but Connector blocks are skipped during signal computation and application.

### Single blockstate variant
With no POWER property, the blockstate JSON is simply:
```json
{ "variants": { "": { "model": "redstone_wire:block/redstone_connector" } } }
```
This means only 1 model needed instead of 2 (powered/unpowered). Initially reuses the `redstone_chain` texture.

### Safety in entity code (RW-08.05 dependency)
When `applySignalToNetwork()` iterates the network, it will encounter Connector blocks. Since they have no POWER property, calling `state.getValue(POWER)` would crash. Task RW-08.05 adds `instanceof RedstoneConnectorBlock` skip guards. This is why RW-08.05 depends on RW-08.04 being done first (so the class exists for the instanceof check).

### neighborChanged no-op
The Connector block's `neighborChanged()` does nothing because:
1. It doesn't detect external signals (that's Input's job)
2. It doesn't emit signals (that's Output's job)
3. Network structure changes are handled by onRemove() and the Connector item
<!-- SECTION:NOTES:END -->

## Definition of Done
<!-- DOD:BEGIN -->
- [ ] #1 New file `RedstoneConnectorBlock.java` exists in `at.osa.redstonewire` package
- [ ] #2 Class extends `AbstractRedstoneChainBlock`
- [ ] #3 Has NO `POWER` property — does NOT override `createBlockStateDefinition()`
- [ ] #4 Constructor does NOT call `registerDefaultState()` with any POWER value
- [ ] #5 `neighborChanged()` is a no-op
- [ ] #6 `isSignalSource()` returns `false`
- [ ] #7 `getSignal()` returns `0`, `getDirectSignal()` returns `0`
- [ ] #8 `hasAnalogOutputSignal()` returns `false`
- [ ] #9 `getTicker()` returns `null` (inherits from base)
- [ ] #10 Block can be placed and connected via Connector item without crashes
- [ ] #11 Block has a single blockstate variant (no power variants)
- [ ] #12 Project compiles with `./gradlew build`
<!-- DOD:END -->
