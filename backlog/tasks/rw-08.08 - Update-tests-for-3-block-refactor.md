---
id: RW-08.08
title: Update tests for 3-block refactor
status: To Do
assignee: []
created_date: '2026-02-14 19:42'
labels:
  - testing
milestone: m-1
dependencies:
  - RW-08.05
  - RW-08.06
  - RW-08.07
references:
  - src/main/java/tests/SimpleGameTests.java
  - src/main/java/tests/TestHelpers.java
parent_task_id: RW-08
priority: medium
---

## Description

<!-- SECTION:DESCRIPTION:BEGIN -->
Update existing game tests and add new tests covering the three-block architecture.

Existing test updates:
- SimpleGameTests.leverinputoutputtest — Update to use RedstoneInputBlock and RedstoneOutputBlock instead of two generic RedstoneChainBlocks. The test structure .nbt file will need to be regenerated in-game with the correct block types.
- TestHelpers — assertChainBlocksAreConnected checks for RedstoneChainEntity (works unchanged), but may want to add type-specific assertion helpers

New test scenarios to add:
1. Input → Output direct cable: Lever → InputBlock --cable-- OutputBlock → Lamp
2. Input → Connector → Output: Lever → InputBlock --cable-- ConnectorBlock --cable-- OutputBlock → Lamp
3. Connector passivity: Verify ConnectorBlock does not emit signal to adjacent redstone
4. Input passivity: Verify InputBlock does not emit signal to adjacent redstone
5. Multiple inputs (strongest-wins): Two InputBlocks with different signal levels → Output gets the max
6. Network with no inputs: Output and Connector only → outputs stay at power 0
7. Legacy block still works: Existing RedstoneChainBlock behavior unchanged

Note: .nbt test structures are binary and must be regenerated in-game using /test create commands after placing the correct block types.
<!-- SECTION:DESCRIPTION:END -->

## Acceptance Criteria
<!-- AC:BEGIN -->
- [ ] #1 Existing leverinputoutputtest updated for new block types
- [ ] #2 New test covers Input → Connector → Output signal chain
- [ ] #3 New test verifies Connector block does not emit redstone
- [ ] #4 New test verifies Input block does not emit redstone
- [ ] #5 Legacy RedstoneChainBlock test still passes
- [ ] #6 All tests compile and pass
<!-- AC:END -->
