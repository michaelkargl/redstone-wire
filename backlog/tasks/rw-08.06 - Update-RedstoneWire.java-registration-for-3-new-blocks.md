---
id: RW-08.06
title: Update RedstoneWire.java registration for 3 new blocks
status: To Do
assignee: []
created_date: '2026-02-14 19:41'
updated_date: '2026-02-14 19:50'
labels:
  - feature
milestone: m-1
dependencies:
  - RW-08.02
  - RW-08.03
  - RW-08.04
references:
  - src/main/java/at/osa/redstonewire/RedstoneWire.java
parent_task_id: RW-08
priority: high
---

## Description

<!-- SECTION:DESCRIPTION:BEGIN -->
Register all three new block types, their block items, and update the entity type and creative tabs.

Changes to RedstoneWire.java:

1. Add 3 new block registrations:
   - REDSTONE_INPUT_BLOCK with ID "redstone_input"
   - REDSTONE_OUTPUT_BLOCK with ID "redstone_output"  
   - REDSTONE_CONNECTOR_BLOCK with ID "redstone_connector"
   All using BlockBehaviour.Properties.of().mapColor(MapColor.STONE)

2. Add 3 new block item registrations:
   - REDSTONE_INPUT_BLOCK_ITEM with ID "redstone_input"
   - REDSTONE_OUTPUT_BLOCK_ITEM with ID "redstone_output"
   - REDSTONE_CONNECTOR_BLOCK_ITEM with ID "redstone_connector"
   Can use RedstoneChainBlockItem (enchanted glint) or plain BlockItem

3. Update REDSTONE_CHAIN_ENTITY builder to include all 4 block types:
   BlockEntityType.Builder.of(RedstoneChainEntity::new,
       REDSTONE_CHAIN_BLOCK.get(),        // legacy
       REDSTONE_INPUT_BLOCK.get(),
       REDSTONE_OUTPUT_BLOCK.get(),
       REDSTONE_CONNECTOR_BLOCK.get()
   ).build(null)

4. Add all 3 new items to:
   - EXAMPLE_TAB creative tab displayItems
   - REDSTONE_BLOCKS tab in addCreative()

Keep all existing registrations (legacy block, example block, etc.) unchanged.
<!-- SECTION:DESCRIPTION:END -->

## Acceptance Criteria
<!-- AC:BEGIN -->
- [ ] #1 3 new blocks registered with IDs redstone_input, redstone_output, redstone_connector
- [ ] #2 3 new block items registered
- [ ] #3 REDSTONE_CHAIN_ENTITY builder lists all 4 block types
- [ ] #4 All 3 new items appear in EXAMPLE_TAB and REDSTONE_BLOCKS creative tabs
- [ ] #5 Existing legacy block and item registrations are unchanged
- [ ] #6 Project compiles without errors
<!-- AC:END -->

## Implementation Plan

<!-- SECTION:PLAN:BEGIN -->
## Implementation Plan

### 1. Add block registrations (after line 65)
```java
public static final DeferredBlock<RedstoneInputBlock> REDSTONE_INPUT_BLOCK = BLOCKS.register(
        "redstone_input",
        () -> new RedstoneInputBlock(BlockBehaviour.Properties.of().mapColor(MapColor.STONE)));

public static final DeferredBlock<RedstoneOutputBlock> REDSTONE_OUTPUT_BLOCK = BLOCKS.register(
        "redstone_output",
        () -> new RedstoneOutputBlock(BlockBehaviour.Properties.of().mapColor(MapColor.STONE)));

public static final DeferredBlock<RedstoneConnectorBlock> REDSTONE_CONNECTOR_BLOCK = BLOCKS.register(
        "redstone_connector",
        () -> new RedstoneConnectorBlock(BlockBehaviour.Properties.of().mapColor(MapColor.STONE)));
```

### 2. Add block item registrations (after line 69)
Use `RedstoneChainBlockItem` (enchanted glint) for Input/Output, plain `BlockItem` for Connector:
```java
public static final DeferredItem<RedstoneChainBlockItem> REDSTONE_INPUT_BLOCK_ITEM = ITEMS.register(
        "redstone_input",
        () -> new RedstoneChainBlockItem(REDSTONE_INPUT_BLOCK.get(), new Item.Properties()));

public static final DeferredItem<RedstoneChainBlockItem> REDSTONE_OUTPUT_BLOCK_ITEM = ITEMS.register(
        "redstone_output",
        () -> new RedstoneChainBlockItem(REDSTONE_OUTPUT_BLOCK.get(), new Item.Properties()));

public static final DeferredItem<BlockItem> REDSTONE_CONNECTOR_BLOCK_ITEM = ITEMS.register(
        "redstone_connector",
        () -> new BlockItem(REDSTONE_CONNECTOR_BLOCK.get(), new Item.Properties()));
```

### 3. Update entity type builder (line 77-79)
```java
() -> BlockEntityType.Builder.of(RedstoneChainEntity::new,
    REDSTONE_CHAIN_BLOCK.get(),
    REDSTONE_INPUT_BLOCK.get(),
    REDSTONE_OUTPUT_BLOCK.get(),
    REDSTONE_CONNECTOR_BLOCK.get()
).build(null)
```

### 4. Update EXAMPLE_TAB displayItems (line 98-102)
Add 3 new items after existing entries.

### 5. Update addCreative REDSTONE_BLOCKS tab (line 151-154)
Add 3 new items after existing entries.

### 6. Verify
- `./gradlew build` compiles
- No changes to existing registrations
<!-- SECTION:PLAN:END -->

## Implementation Notes

<!-- SECTION:NOTES:BEGIN -->
## Implementation Notes

### Entity type builder — valid blocks list
The `BlockEntityType.Builder.of()` takes a varargs of blocks that are allowed to host this entity type. Adding all 4 blocks means `RedstoneChainEntity` can exist at any of these block positions. Without this, placing a new block type would fail to create the entity silently.

### Item type choice
- **Input/Output**: Use `RedstoneChainBlockItem` (shows enchanted glint) to visually indicate these are "special" redstone blocks
- **Connector**: Use plain `BlockItem` — it's a passive routing node, no special visual needed. This also makes it visually distinct in the inventory.

Alternative: Use `RedstoneChainBlockItem` for all 3 for consistency. This is a minor UX decision.

### Registration order
NeoForge deferred registration is order-independent for functionality, but the declaration order affects:
1. Creative tab ordering (items appear in declaration order in `displayItems`)
2. Code readability

Recommended order: Legacy block → Input → Output → Connector (logical signal flow order).

### Block properties
Using `BlockBehaviour.Properties.of().mapColor(MapColor.STONE)` matches the legacy block exactly. No need for additional properties like `strength()` or `sound()` at this stage — these can be refined later.

### Creative tab grouping
In `EXAMPLE_TAB`, add new items after the existing chain block items:
```
output.accept(REDSTONE_CHAIN_BLOCK_ITEM.get());     // legacy
output.accept(REDSTONE_INPUT_BLOCK_ITEM.get());      // new
output.accept(REDSTONE_OUTPUT_BLOCK_ITEM.get());     // new
output.accept(REDSTONE_CONNECTOR_BLOCK_ITEM.get());  // new
output.accept(REDSTONE_CHAIN_CONNECTOR.get());       // cable tool
```

In `REDSTONE_BLOCKS`, same pattern.
<!-- SECTION:NOTES:END -->

## Definition of Done
<!-- DOD:BEGIN -->
- [ ] #1 3 new `DeferredBlock` registrations: `REDSTONE_INPUT_BLOCK`, `REDSTONE_OUTPUT_BLOCK`, `REDSTONE_CONNECTOR_BLOCK`
- [ ] #2 3 new `DeferredItem` registrations: `REDSTONE_INPUT_BLOCK_ITEM`, `REDSTONE_OUTPUT_BLOCK_ITEM`, `REDSTONE_CONNECTOR_BLOCK_ITEM`
- [ ] #3 Block IDs are `redstone_input`, `redstone_output`, `redstone_connector`
- [ ] #4 `REDSTONE_CHAIN_ENTITY` builder includes all 4 blocks: legacy + 3 new
- [ ] #5 All 3 new items added to `EXAMPLE_TAB` creative tab `displayItems`
- [ ] #6 All 3 new items added to `REDSTONE_BLOCKS` tab in `addCreative()`
- [ ] #7 Existing legacy block/item registrations are completely unchanged
- [ ] #8 Block properties use `BlockBehaviour.Properties.of().mapColor(MapColor.STONE)` matching legacy
- [ ] #9 Project compiles with `./gradlew build`
<!-- DOD:END -->
